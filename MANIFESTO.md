# Project Overview: Earnest Page

## 1. Visual Aesthetic (Strict Adherence)
**North Star:** "Premium Native Mobile Social."
The app must look indistinguishable from Instagram, X (Twitter), or TikTok.
*   **Style Guide:** Minimalist, clean, content-first. Standard bottom navigation bars, standard profile headers, standard feed layouts.
*   **Negative Constraints (DO NOT DO):** Do not make it look like a video game, a sci-fi interface, or a dashboard. Do not use "techy" fonts or "HUD" aesthetics. If it wouldn't look out of place on an influencer's phone, it's wrong.

## 2. Conceptual Function (The Logic Only)
**Metaphor:** "Character Editor."
*   **Note:** This is purely how the *backend and data* function. The user is "editing their character" (Data), but the UI remains a standard social feed (View).
*   **The Magic:** The "gameplay" is in the text/content, not the buttons.

## 3. Core Vision: "Mainstream Social Media for Self-Actualization"
**Earnest Page is a designed to feel like Instagram or TikTok, but built to function like a Character Editor for Reality.**
*   **The Aesthetic:** High-gloss, cinematic, "Mainstream Social" UI/UX. It uses the familiar visual language of top-tier apps (Insta/TikTok/Twitter) to ensure immediate adoption and intuitive use.
*   **The Hook:** It leverages the same powerful dopamine loops and frictionless interactions of addictive social media, but redirects them toward **Self-Correction** and **Growth** rather than distraction.
*   **The Ethical North Star:** Our metric for success is NOT "Time on App," but "User Empowerment." We win when the user feels happier, stronger, and more capable *offline*.

## 4. The Mechanics (The Toolkit)
The app provides a suite of tools to manage this "Character Build":

### A. The Character Bible (The Config File)
The core profile. It holds the user's "Source Code":
*   **Core Beliefs:** The fundamental truths the user operates on.
*   **Rules/Protocols:** The behavioral scripts they follow.
*   **Visual Board:** The aesthetic of their ideal self, captured via preferences like "Things I Enjoy".

### B. The Tools (Inputs)
1.  **The Daily Check-In Engine (The Debugger & Planner):**
    *   *Purpose:* To audit the day, fix "Bugs" (negative feelings), and consult the "Algorithm".
    *   *Logic:* A multi-step flow (Audit, Briefing, Counsel). Problems are signals that current beliefs need updating. Users interact with a character-driven conversational flow to refine their approach.
    *   *Role of Feelings:* Feelings are not the destination; they are **diagnostic tools** used to identify where the "Code" needs updating.
2.  **Action Directives & Todos (The Execution):**
    *   *Purpose:* To live as the character and execute real-world change.
    *   *Logic:* Derived from the Check-In and Counsel sessions, the system generates specific, actionable steps automatically. Tracking the daily execution of these directives serves as proof of work.

## 5. Privacy, Anonymity, and Globalization
The platform is designed for **radical honesty** through **complete anonymity**.

### A. The "Raw vs. Public" Architecture
To allow users to be vulnerable without fear, every post has two distinct versions:
1.  **Raw Version (Private):** The user's actual input. Contains specific details, names, and situations.
    *   *Security:* NEVER returned to anyone but the author.
    *   *Storage:* Encrypted and strictly access-controlled.
2.  **Public Version (Ghost-Written):** A sanitized, stylized version generated by AI.
    *   *Purpose:* To share the *wisdom* or *pattern* without sharing the *incriminating details*.
    *   *Style:* Written in the voice of the "Ideal Character" (or a neutral narrator).
    *   *Toggle:* Users explicitly choose if a post is Public or Private.

### B. Localization & Translation
The app is global-first.
*   **Source Truth:** We strictly store the **Source Language** of the post.
*   **On-Demand Translation:** When a user views a post in a different language, we generate a translation *of the Public Version* and store it within the post document.
*   **Cache Strategy:** We never re-translate. Once a language variant exists, it is served to all future requests for that language.

## 6. Technical Architecture
**Stack:**
*   **Frontend:** Next.js 16 (App Router), React 19, TypeScript, Tailwind CSS (v4).
*   **UX Pattern:** Infinite feeds, rapid-fire posting, visual-heavy interfaces (resembling TikTok/Twitter mechanics).
*   **Backend:** Firebase (Firestore, Phone OTP Auth, Admin SDK).
*   **AI:** Vercel AI SDK + Google Gemini (primary: `gemini-3.1-pro-preview`, fallback: `gemini-2.5-pro`).
    *   *Usage:* Powers Ghost-Writing, Translation, and conversational features (Mirror Chat, Counsel).
    *   *Prompting:* Governed by a strict "Anti-AI Directive" to ensure responses are strictly character-driven simulations. We present it to the user as an "Algorithm", not an AI.

**Data Model (The "RPG" Schema):**
*   **`users/{userId}/character_bible`:** The dynamic user profile.
*   **`posts`:** The "Changelogs".
    *   `title`: (String) A high-gloss, 4-8 word editorial headline.
    *   `content_raw`: (String) The private input.
    *   `content_public`: (String) The sanitized AI output.
    *   `language_source`: (String) e.g., "en", "es", "jp".
    *   `translations`: (Map) `{ "es": "...", "fr": "..." }`.
    *   `is_public`: (Boolean).
*   **`rules`:** The logic blocks governing behavior.

## 7. Current Implementation Status
*   **Active Core Loop:** Check-In Engine -> Counsel -> Action Directives + Social Post.
*   **Active Modules:** 
    *   **The Social Feed:** Feeds are mature, featuring polished Post Cards with editorial titles.
    *   **Character Bible:** Fully active with detailed View/Edit modes and extensive customization.
*   **In Development:** Further refinement of the "Character Editor" suite and expansion of deep-conversational algorithms.